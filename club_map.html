
<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>ClubTime</title></head>
<body>
<div style="margin:10px 0;">
  <label for="day">Day:</label>
  <select id="day"><option value="Monday">Monday</option><option value="Tuesday">Tuesday</option><option value="Wednesday">Wednesday</option><option value="Thursday">Thursday</option><option value="Friday">Friday</option><option value="Saturday">Saturday</option><option value="Sunday">Sunday</option></select>
  <label for="slot" style="margin-left:12px;">Time:</label>
  <select id="slot"><option value="12:00">12:00</option><option value="13:00">13:00</option><option value="14:00">14:00</option><option value="15:00">15:00</option><option value="16:00">16:00</option><option value="17:00">17:00</option><option value="18:00">18:00</option><option value="19:00">19:00</option><option value="20:00">20:00</option><option value="21:00">21:00</option><option value="22:00">22:00</option><option value="23:00">23:00</option><option value="0:00">0:00</option><option value="0:30">0:30</option><option value="1:00">1:00</option><option value="1:30">1:30</option><option value="2:00">2:00</option><option value="2:30">2:30</option><option value="3:00">3:00</option><option value="3:30">3:30</option><option value="04:00">04:00</option><option value="5:00">5:00</option></select>
</div>

<div id="map" style="height:600px; width:100%;"></div>

<script>
  const clubs = [{"name": "Shoko", "lat": 41.38556, "lng": 2.19691, "schedule": {"Monday": {"12:00": "green", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "yellow", "21:00": "yellow", "22:00": "yellow", "23:00": "orange", "0:00": "red", "0:30": "red", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "orange", "3:00": "orange", "3:30": "orange", "04:00": "green", "5:00": "green"}, "Tuesday": {"12:00": "green", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "yellow", "21:00": "yellow", "22:00": "yellow", "23:00": "orange", "0:00": "orange", "0:30": "orange", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "orange", "3:00": "orange", "3:30": "orange", "04:00": "green", "5:00": "green"}, "Wednesday": {"12:00": "green", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "green", "21:00": "green", "22:00": "yellow", "23:00": "yellow", "0:00": "yellow", "0:30": "orange", "1:00": "orange", "1:30": "orange", "2:00": "orange", "2:30": "red", "3:00": "orange", "3:30": "yellow", "04:00": "green", "5:00": "green"}, "Thursday": {"12:00": "green", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "green", "21:00": "yellow", "22:00": "yellow", "23:00": "yellow", "0:00": "yellow", "0:30": "orange", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "red", "3:00": "red", "3:30": "orange", "04:00": "orange", "5:00": "green"}, "Friday": {"12:00": "green", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "yellow", "20:00": "yellow", "21:00": "yellow", "22:00": "yellow", "23:00": "yellow", "0:00": "orange", "0:30": "orange", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "red", "3:00": "red", "3:30": "red", "04:00": "orange", "5:00": "green"}, "Saturday": {"12:00": "green", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "yellow", "20:00": "yellow", "21:00": "yellow", "22:00": "yellow", "23:00": "yellow", "0:00": "orange", "0:30": "red", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "red", "3:00": "red", "3:30": "red", "04:00": "orange", "5:00": "green"}, "Sunday": {"12:00": "green", "13:00": "green", "14:00": "yellow", "15:00": "yellow", "16:00": "yellow", "17:00": "yellow", "18:00": "green", "19:00": "green", "20:00": "green", "21:00": "yellow", "22:00": "yellow", "23:00": "yellow", "0:00": "yellow", "0:30": "yellow", "1:00": "yellow", "1:30": "orange", "2:00": "orange", "2:30": "yellow", "3:00": "yellow", "3:30": "green", "04:00": "green", "5:00": "green"}}}, {"name": "Opium", "lat": 41.38537, "lng": 2.19676, "schedule": {"Monday": {"12:00": "green", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "green", "21:00": "yellow", "22:00": "yellow", "23:00": "orange", "0:00": "orange", "0:30": "orange", "1:00": "orange", "1:30": "red", "2:00": "red", "2:30": "red", "3:00": "orange", "3:30": "orange", "04:00": "green", "5:00": "green"}, "Tuesday": {"12:00": "green", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "green", "21:00": "green", "22:00": "green", "23:00": "green", "0:00": "yellow", "0:30": "yellow", "1:00": "yellow", "1:30": "yellow", "2:00": "orange", "2:30": "orange", "3:00": "orange", "3:30": "orange", "04:00": "yellow", "5:00": "green"}, "Wednesday": {"12:00": "green", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "green", "21:00": "green", "22:00": "green", "23:00": "green", "0:00": "green", "0:30": "green", "1:00": "green", "1:30": "green", "2:00": "yellow", "2:30": "orange", "3:00": "yellow", "3:30": "yellow", "04:00": "green", "5:00": "green"}, "Thursday": {"12:00": "green", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "green", "21:00": "green", "22:00": "green", "23:00": "yellow", "0:00": "yellow", "0:30": "yellow", "1:00": "yellow", "1:30": "orange", "2:00": "orange", "2:30": "orange", "3:00": "yellow", "3:30": "yellow", "04:00": "green", "5:00": "green"}, "Friday": {"12:00": "green", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "green", "21:00": "green", "22:00": "yellow", "23:00": "yellow", "0:00": "red", "0:30": "red", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "red", "3:00": "red", "3:30": "red", "04:00": "orange", "5:00": "green"}, "Saturday": {"12:00": "green", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "green", "21:00": "yellow", "22:00": "yellow", "23:00": "red", "0:00": "red", "0:30": "red", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "red", "3:00": "red", "3:30": "red", "04:00": "orange", "5:00": "green"}, "Sunday": {"12:00": "green", "13:00": "green", "14:00": "yellow", "15:00": "yellow", "16:00": "yellow", "17:00": "yellow", "18:00": "green", "19:00": "green", "20:00": "green", "21:00": "yellow", "22:00": "red", "23:00": "red", "0:00": "red", "0:30": "red", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "orange", "3:00": "orange", "3:30": "orange", "04:00": "yellow", "5:00": "green"}}}, {"name": "Pacha", "lat": 41.385740931557, "lng": 2.1970712632294, "schedule": {"Monday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "yellow", "22:00": "yellow", "23:00": "red", "0:00": "red", "0:30": "red", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "red", "3:00": "orange", "3:30": "orange", "04:00": "green", "5:00": "green"}, "Tuesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "yellow", "22:00": "yellow", "23:00": "red", "0:00": "red", "0:30": "red", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "orange", "3:00": "orange", "3:30": "yellow", "04:00": "green", "5:00": "green"}, "Wednesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "yellow", "22:00": "yellow", "23:00": "red", "0:00": "red", "0:30": "red", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "red", "3:00": "red", "3:30": "red", "04:00": "orange", "5:00": "green"}, "Thursday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "yellow", "22:00": "yellow", "23:00": "red", "0:00": "red", "0:30": "red", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "red", "3:00": "red", "3:30": "orange", "04:00": "orange", "5:00": "green"}, "Friday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "yellow", "22:00": "yellow", "23:00": "red", "0:00": "red", "0:30": "red", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "red", "3:00": "red", "3:30": "red", "04:00": "red", "5:00": "green"}, "Saturday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "yellow", "22:00": "red", "23:00": "red", "0:00": "red", "0:30": "red", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "red", "3:00": "red", "3:30": "red", "04:00": "red", "5:00": "green"}, "Sunday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "yellow", "22:00": "yellow", "23:00": "red", "0:00": "red", "0:30": "red", "1:00": "red", "1:30": "red", "2:00": "red", "2:30": "red", "3:00": "orange", "3:30": "yellow", "04:00": "green", "5:00": "green"}}}, {"name": "Twenties", "lat": 41.39346, "lng": 2.15801, "schedule": {"Monday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "yellow", "0:00": "yellow", "0:30": "yellow", "1:00": "yellow", "1:30": "orange", "2:00": "orange", "2:30": "orange", "3:00": "yellow", "3:30": "green", "04:00": "green", "5:00": "green"}, "Tuesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "black", "0:30": "black", "1:00": "black", "1:30": "black", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Wednesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "yellow", "0:00": "yellow", "0:30": "yellow", "1:00": "yellow", "1:30": "orange", "2:00": "orange", "2:30": "yellow", "3:00": "yellow", "3:30": "green", "04:00": "green", "5:00": "green"}, "Thursday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "yellow", "0:00": "yellow", "0:30": "yellow", "1:00": "yellow", "1:30": "orange", "2:00": "orange", "2:30": "yellow", "3:00": "yellow", "3:30": "yellow", "04:00": "green", "5:00": "green"}, "Friday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "yellow", "0:00": "yellow", "0:30": "yellow", "1:00": "yellow", "1:30": "orange", "2:00": "orange", "2:30": "red", "3:00": "red", "3:30": "orange", "04:00": "yellow", "5:00": "green"}, "Saturday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "yellow", "0:00": "yellow", "0:30": "yellow", "1:00": "yellow", "1:30": "yellow", "2:00": "orange", "2:30": "orange", "3:00": "red", "3:30": "red", "04:00": "yellow", "5:00": "green"}, "Sunday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "yellow", "0:00": "yellow", "0:30": "yellow", "1:00": "yellow", "1:30": "yellow", "2:00": "orange", "2:30": "yellow", "3:00": "yellow", "04:00": "yellow", "5:00": "green"}}}, {"name": "Sutton", "lat": 41.39596, "lng": 2.15174, "schedule": {"Monday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "black", "0:30": "black", "1:00": "black", "1:30": "black", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Tuesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "black", "0:30": "black", "1:00": "black", "1:30": "black", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Wednesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "yellow", "1:00": "yellow", "1:30": "yellow", "2:00": "yellow", "2:30": "yellow", "3:00": "green", "3:30": "green", "04:00": "green", "5:00": "green"}, "Thursday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "green", "1:30": "yellow", "2:00": "yellow", "2:30": "orange", "3:00": "orange", "3:30": "orange", "04:00": "yellow", "5:00": "green"}, "Friday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "yellow", "1:00": "orange", "1:30": "orange", "2:00": "orange", "2:30": "orange", "3:00": "orange", "3:30": "yellow", "04:00": "yellow", "5:00": "green"}, "Saturday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "yellow", "1:00": "yellow", "1:30": "orange", "2:00": "orange", "2:30": "red", "3:00": "red", "3:30": "orange", "04:00": "yellow", "5:00": "green"}, "Sunday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "black", "0:30": "black", "1:00": "black", "1:30": "black", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}}}, {"name": "Downtown", "lat": 41.38142, "lng": 2.11457, "schedule": {"Monday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "black", "0:30": "black", "1:00": "black", "1:30": "black", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Tuesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "black", "0:30": "black", "1:00": "black", "1:30": "black", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Wednesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "black", "0:30": "black", "1:00": "black", "1:30": "black", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Thursday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "green", "0:00": "yellow", "0:30": "yellow", "1:00": "yellow", "1:30": "orange", "2:00": "orange", "2:30": "red", "3:00": "orange", "3:30": "yellow", "04:00": "green", "5:00": "green"}, "Friday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "green", "0:00": "yellow", "0:30": "yellow", "1:00": "orange", "1:30": "orange", "2:00": "orange", "2:30": "red", "3:00": "red", "3:30": "red", "04:00": "yellow", "5:00": "green"}, "Saturday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "yellow", "0:00": "red", "0:30": "orange", "1:00": "orange", "1:30": "red", "2:00": "red", "2:30": "red", "3:00": "red", "3:30": "orange", "04:00": "yellow", "5:00": "green"}, "Sunday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "black", "0:30": "black", "1:00": "black", "1:30": "black", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}}}, {"name": "Razzmatazz", "lat": 41.39778, "lng": 2.19118, "schedule": {"Monday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "black", "0:30": "black", "1:00": "black", "1:30": "black", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Tuesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "black", "0:30": "black", "1:00": "black", "1:30": "black", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Wednesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "yellow", "0:30": "yellow", "1:00": "orange", "1:30": "orange", "2:00": "red", "2:30": "red", "3:00": "red", "3:30": "red", "04:00": "red", "5:00": "green"}, "Thursday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "yellow", "0:30": "yellow", "1:00": "yellow", "1:30": "orange", "2:00": "orange", "2:30": "red", "3:00": "red", "3:30": "red", "04:00": "red", "5:00": "green"}, "Friday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "yellow", "0:30": "yellow", "1:00": "yellow", "1:30": "orange", "2:00": "orange", "2:30": "red", "3:00": "red", "3:30": "orange", "04:00": "orange", "5:00": "green"}, "Saturday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "yellow", "0:30": "yellow", "1:00": "yellow", "1:30": "orange", "2:00": "orange", "2:30": "red", "3:00": "red", "3:30": "orange", "04:00": "orange", "5:00": "green"}, "Sunday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "black", "0:30": "black", "1:00": "black", "1:30": "black", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}}}, {"name": "Jamboree", "lat": 41.37971, "lng": 2.17528, "schedule": {"Monday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "yellow", "1:30": "yellow", "2:00": "yellow", "2:30": "orange", "3:00": "orange", "3:30": "green", "04:00": "green", "5:00": "green"}, "Tuesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "yellow", "1:30": "yellow", "2:00": "yellow", "2:30": "orange", "3:00": "orange", "3:30": "yellow", "04:00": "green", "5:00": "green"}, "Wednesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "yellow", "1:00": "yellow", "1:30": "yellow", "2:00": "yellow", "2:30": "orange", "3:00": "orange", "3:30": "orange", "04:00": "yellow", "5:00": "green"}, "Thursday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "yellow", "1:30": "yellow", "2:00": "yellow", "2:30": "orange", "3:00": "orange", "3:30": "yellow", "04:00": "yellow", "5:00": "green"}, "Friday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "yellow", "1:00": "yellow", "1:30": "yellow", "2:00": "yellow", "2:30": "orange", "3:00": "red", "3:30": "orange", "04:00": "yellow", "5:00": "green"}, "Saturday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "yellow", "0:30": "yellow", "1:00": "yellow", "1:30": "yellow", "2:00": "yellow", "2:30": "red", "3:00": "red", "3:30": "orange", "04:00": "orange", "5:00": "green"}, "Sunday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "green", "1:30": "yellow", "2:00": "yellow", "2:30": "yellow", "3:00": "orange", "3:30": "orange", "04:00": "yellow", "5:00": "green"}}}, {"name": "Sala Apolo", "lat": 41.37439, "lng": 2.16956, "schedule": {"Monday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "green", "1:30": "green", "2:00": "green", "2:30": "yellow", "3:00": "yellow", "3:30": "green", "04:00": "green", "5:00": "green"}, "Tuesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "green", "1:30": "green", "2:00": "green", "2:30": "yellow", "3:00": "yellow", "3:30": "yellow", "04:00": "yellow", "5:00": "green"}, "Wednesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "green", "1:30": "green", "2:00": "yellow", "2:30": "yellow", "3:00": "orange", "3:30": "orange", "04:00": "yellow", "5:00": "green"}, "Thursday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "green", "1:30": "green", "2:00": "yellow", "2:30": "yellow", "3:00": "orange", "3:30": "orange", "04:00": "orange", "5:00": "green"}, "Friday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "green", "1:30": "yellow", "2:00": "orange", "2:30": "orange", "3:00": "red", "3:30": "orange", "04:00": "orange", "5:00": "green"}, "Saturday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "green", "1:30": "green", "2:00": "yellow", "2:30": "orange", "3:00": "orange", "3:30": "orange", "04:00": "orange", "5:00": "green"}, "Sunday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "green", "1:30": "green", "2:00": "green", "2:30": "yellow", "3:00": "yellow", "3:30": "yellow", "04:00": "green", "5:00": "green"}}}, {"name": "Bling Bling", "lat": 41.39475, "lng": 2.15192, "schedule": {"Monday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "black", "0:30": "black", "1:00": "black", "1:30": "black", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Tuesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "black", "0:30": "black", "1:00": "black", "1:30": "black", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Wednesday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "green", "1:30": "yellow", "2:00": "orange", "2:30": "orange", "3:00": "orange", "3:30": "orange", "04:00": "yellow", "5:00": "green"}, "Thursday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "green", "1:30": "yellow", "2:00": "yellow", "2:30": "orange", "3:00": "orange", "3:30": "orange", "04:00": "orange", "5:00": "green"}, "Friday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "green", "1:30": "yellow", "2:00": "orange", "2:30": "red", "3:00": "orange", "3:30": "orange", "04:00": "orange", "5:00": "green"}, "Saturday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "green", "0:30": "green", "1:00": "green", "1:30": "green", "2:00": "yellow", "2:30": "orange", "3:00": "red", "3:30": "red", "04:00": "orange", "5:00": "green"}, "Sunday": {"12:00": "black", "13:00": "black", "14:00": "black", "15:00": "black", "16:00": "black", "17:00": "black", "18:00": "black", "19:00": "black", "20:00": "black", "21:00": "black", "22:00": "black", "23:00": "black", "0:00": "black", "0:30": "black", "1:00": "black", "1:30": "black", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}}}, {"name": "George Payne", "lat": 41.387, "lng": 2.16983, "schedule": {"Monday": {"12:00": "black", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "yellow", "21:00": "yellow", "22:00": "yellow", "23:00": "orange", "0:00": "orange", "0:30": "orange", "1:00": "yellow", "1:30": "green", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Tuesday": {"12:00": "black", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "yellow", "21:00": "yellow", "22:00": "yellow", "23:00": "orange", "0:00": "orange", "0:30": "yellow", "1:00": "yellow", "1:30": "green", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Wednesday": {"12:00": "black", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "green", "21:00": "yellow", "22:00": "yellow", "23:00": "orange", "0:00": "yellow", "0:30": "yellow", "1:00": "green", "1:30": "green", "2:00": "black", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Thursday": {"12:00": "black", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "yellow", "21:00": "yellow", "22:00": "yellow", "23:00": "orange", "0:00": "orange", "0:30": "orange", "1:00": "yellow", "1:30": "yellow", "2:00": "green", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Friday": {"12:00": "black", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "yellow", "21:00": "yellow", "22:00": "orange", "23:00": "orange", "0:00": "orange", "0:30": "orange", "1:00": "yellow", "1:30": "green", "2:00": "green", "2:30": "green", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Saturday": {"12:00": "black", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "yellow", "21:00": "yellow", "22:00": "yellow", "23:00": "orange", "0:00": "orange", "0:30": "orange", "1:00": "orange", "1:30": "orange", "2:00": "yellow", "2:30": "yellow", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}, "Sunday": {"12:00": "black", "13:00": "green", "14:00": "green", "15:00": "green", "16:00": "green", "17:00": "green", "18:00": "green", "19:00": "green", "20:00": "green", "21:00": "green", "22:00": "green", "23:00": "yellow", "0:00": "yellow", "0:30": "yellow", "1:00": "green", "1:30": "green", "2:00": "green", "2:30": "black", "3:00": "black", "3:30": "black", "04:00": "black", "5:00": "black"}}}];
  const icons = {"green": "http://maps.google.com/mapfiles/ms/icons/green-dot.png", "yellow": "http://maps.google.com/mapfiles/ms/icons/yellow-dot.png", "orange": "http://maps.google.com/mapfiles/ms/icons/orange-dot.png", "red": "http://maps.google.com/mapfiles/ms/icons/red-dot.png", "blue": "http://maps.google.com/mapfiles/ms/icons/blue-dot.png"};
  let map, markers = [], selectedClubLocation = null, directionsRenderer = null, selectedMarker = null;
  let infoWindow;

  function initMap() {
    map = new google.maps.Map(document.getElementById('map'), {
      zoom: 14,
      center: {lat: 41.3851, lng: 2.1734}
    });
    directionsRenderer = new google.maps.DirectionsRenderer({ preserveViewport: true });
    infoWindow = new google.maps.InfoWindow();
    updateMarkers();
    document.getElementById('slot').addEventListener('change', updateMarkers);
    document.getElementById('day').addEventListener('change', updateMarkers);
  }

  function clearMarkers() {
    markers.forEach(m => m.setMap(null));
    markers = [];
    if (directionsRenderer) directionsRenderer.setMap(null);
    if (selectedMarker) selectedMarker.setIcon(icons[selectedMarker.originalColor]);
    selectedMarker = null;
    document.getElementById('routeInfo').innerText = '';
  }

  function updateMarkers() {
    const day = document.getElementById('day').value;
    const slot = document.getElementById('slot').value;
    clearMarkers();
    clubs.forEach(c => {
      let color = c.schedule?.[day]?.[slot] || "green";
      if (color !== "black") {
        const marker = new google.maps.Marker({
          position: {lat: c.lat, lng: c.lng},
          map: map,
          title: `${c.name} - ${day} ${slot}`,
          icon: icons[color],
          originalColor: color
        });
        markers.push(marker);

        marker.addListener('click', () => {
          if (selectedMarker) selectedMarker.setIcon(icons[selectedMarker.originalColor]);
          selectedClubLocation = {lat: c.lat, lng: c.lng};
          selectedMarker = marker;
          marker.setIcon(icons["blue"]);

          infoWindow.setContent(`<strong>${c.name}</strong>`);
          infoWindow.open(map, marker);
        });
      }
    });
  }

  function calculateRoutes() {
    const origin = document.getElementById('userAddress').value;
    const mode = document.getElementById('travelMode').value;

    if (!selectedClubLocation || !origin) {
      alert("Please select a club and enter your address.");
      return;
    }

    const service = new google.maps.DirectionsService();
    const request = {
      origin: origin,
      destination: selectedClubLocation,
      travelMode: google.maps.TravelMode[mode]
    };

    directionsRenderer = new google.maps.DirectionsRenderer({ preserveViewport: true });
    directionsRenderer.setMap(map);

    service.route(request, (response, status) => {
      if (status === 'OK') {
        directionsRenderer.setDirections(response);
        const leg = response.routes[0]?.legs?.[0];
        if (leg) {
          const duration = leg.duration?.text || "";
          const distance = leg.distance?.text || "";
          document.getElementById('routeInfo').innerText =
            `Estimated: ${duration} (${distance}) via ${mode.toLowerCase()}`;
        }
      } else if (status === 'ZERO_RESULTS' && mode === 'TRANSIT') {
        alert("Transit directions not available at this time or location.");
      } else {
        alert("Directions failed: " + status);
      }
    });
  }
</script>

<script async
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCd0GQJzXT40ad75ENi3YL7MwFU5L-NbBs&callback=initMap">
</script>

<div style="margin-top:15px; padding:10px; border:1px solid #ccc;">
  <label>Starting address:</label>
  <input id="userAddress" size="40" placeholder="e.g. Plaça Catalunya">
  <label style="margin-left:10px;">Mode:</label>
  <select id="travelMode">
    <option value="WALKING">Walking</option>
    <option value="TRANSIT">Transit</option>
    <option value="DRIVING">Driving</option>
  </select>
  <button onclick="calculateRoutes()">Get Directions</button>
</div>

<div id="routeInfo" style="margin-top:10px; font-weight:bold; font-size:14px;"></div>
</body>
</html>
